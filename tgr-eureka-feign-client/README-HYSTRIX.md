###########################################################################################################################################
在分布式系统中，服务与服务之间的依赖错综复杂， 一种不可避免的情况就是某些服务会
出现故障，导致依赖于它们的其他服务出现远程调度的线程阻塞 。 Hystrix 是 Netflix 公司开
源的一个项目，它提供了熔断器功能，能够阻止分布式系统中出现联动故障 。 Hystrix 是通过
隔离服务的访问点阻止联动故障的，并提供了故障的解决方案，从而提高 了整个分布式系统
的弹性 。
###########################################################################################################################################
为了防止雪崩效应，因而产生了熔断器模型。 Hystrix 是在业界表现非常好的一个熔断器
模型实现的开源组件，它是 Spring Cloud 组件不可缺少的一部分。
###########################################################################################################################################
总的来说， Hystrix 的设计原则如下。
口 防止单个服务的故障耗尽整个服务的 Servlet 容器（例如 Tomcat ）的线程资源。
口 快速失败机制，如果某个服务出现了故障，则调用该服务的请求快速失败，而不是线
程等待。
口 提供回退（ fallback）方案，在请求发生故障时，提供设定好的回退方案。
口 使用熔断机制，防止故障扩散到其他服务。
口 提供熔断器的监控组件 Hystrix Dashboard，可以实时监控熔断器的状态 
###########################################################################################################################################
第 2 章的图 2-5 展示了 Hystrix 的工作机制。首先，当服务的某个 API 接口的失败次数
在一定时间内小于设定的阀值时，熔断器处于关闭状态，该 API 接口正常提供服务 。当该
API 接口处理请求的失败次数大于设定的阀值时， Hystrix 判定该 API 接口出现了故障，打开
熔断器，这时请求该 API 接口会执行快速失败的逻辑（即 fallback 回退的逻辑），不执行业
务逻辑，请求的线程不会处于阻塞状态。处于打开状态的熔断器 ， 一段时间后会处于半打开
状态，并将一定数量的请求执行正常逻辑。剩余的请求会执行快速失败，若执行正常逻辑的
请求失败了，则熔断器继续打开 ： 若成功了 ，则将熔断器关闭。这样熔断器就具有了自我修
复的能力。
###########################################################################################################################################
